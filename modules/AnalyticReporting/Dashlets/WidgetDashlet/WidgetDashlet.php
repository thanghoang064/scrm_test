<?php

/*** DOMAIN_CHECK ***/

if(!defined('sugarEntry') || !sugarEntry) die('Not A Valid Entry Point');require_once 'modules/Home/Dashlets/iFrameDashlet/iFrameDashlet.php';include_once "modules/AnalyticReporting/controllers/libs.php";class WidgetDashlet extends iFrameDashlet {protected $_seedName = 'AnalyticReporting';public $selectedReport;function displayOptions() {$id = substr($this->url, strpos($this->url, "&record=") + 8);$this->selectedReport = (int)$id;$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZm12 = new Sugar_Smarty();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZm12->assign('title',translate('LBL_TITLE','Charts'));$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZm12->assign('save',$GLOBALS['app_strings']['LBL_SAVE_BUTTON_LABEL']);$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZm12->assign('clear',$GLOBALS['app_strings']['LBL_CLEAR_BUTTON_LABEL']);$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZm12->assign('id', $this->id);$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZm12->assign('searchFields', $this->currentSearchFields);$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZm12->assign('dashletTitle', $this->title);$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZm12->assign('heightLBL', translate('LBL_DASHLET_OPT_HEIGHT', 'Home'));$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZm12->assign('height', $this->height);$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZm12->assign('selectedReport', $this->selectedReport);$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZm12->assign('dashletType', 'predefined_chart');$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZm12->assign('module', $_REQUEST['module']);$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZm12->assign('showClearButton', $this->isConfigPanelClearShown);if($this->isAutoRefreshable()) {$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZm12->assign('isRefreshable', true);$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZm12->assign('autoRefresh', $GLOBALS['app_strings']['LBL_DASHLET_CONFIGURE_AUTOREFRESH']);$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZm12->assign('autoRefreshOptions', $this->getAutoRefreshOptions());$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZm12->assign('autoRefreshSelect', $this->autoRefresh);} $ZZZZZZZZZZZA00 = new ZZZZZZZD33();$ZZZZZZZR1717 = new ZZZZZZZS1818();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZb1 = $ZZZZZZZZZZZA00->ZZZZZZZP1515(PlatformConnector::ZZZZZZZZZZZZZV2121());$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZb1 = $ZZZZZZZR1717->ZZZZZZZZZZZZZZZZG66($ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZb1, 0);$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZm12->assign('reportNamesForTemplates', $ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZb1);;return $ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZm12->fetch('modules/AnalyticReporting/Dashlets/WidgetDashlet/WidgetDashletConfigure.tpl');} function saveOptions($ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZK1010) {$ZZZZZZZJ99 = array();$ZZZZZZZZZZZA00 = new ZZZZZZZD33();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZb1 = $ZZZZZZZZZZZA00->ZZZZZZZP1515(PlatformConnector::ZZZZZZZZZZZZZV2121());if($ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZK1010['dashletTitle'] == "Generic Dashlet" || $this->title == $ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZK1010['dashletTitle']){foreach ($ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZb1 as $ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZL1111) {if($ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZL1111['id'] == $ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZK1010['selectedReport']){$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZK1010['dashletTitle'] = $ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZL1111['title'];break;}}} if (isset($ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZK1010['height'])) {$ZZZZZZZJ99['height'] = (int)$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZK1010['height'];} $ZZZZZZZJ99['title'] = $ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZK1010['dashletTitle'];$ZZZZZZZJ99['autoRefresh'] = empty($ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZK1010['autoRefresh']) ? '0' : $ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZK1010['autoRefresh'];$ZZZZZZZJ99['url'] = PlatformConnector::getUrl()."?module=AnalyticReporting&action=widget&record={$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZK1010['selectedReport']}";return $ZZZZZZZJ99;} function display() {if(strpos($this->url, 'AnalyticReporting') === false){return '<div align="center"><h2>Select report from options</h2></div>';} return parent::display();} function displayScript(){}}