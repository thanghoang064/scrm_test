<?php

/*** DOMAIN_CHECK ***/

include_once "modules/AnalyticReporting/controllers/ARJobsController.php";include_once "modules/AnalyticReporting/controllers/ARReportBuilderController.php";include_once "modules/AnalyticReporting/controllers/ARReportController.php";include_once "modules/AnalyticReporting/controllers/ARReportTreeController.php";include_once "modules/AnalyticReporting/controllers/ARSettingsController.php";include_once "modules/AnalyticReporting/controllers/ARDashboardController.php";class AnalyticReportingController extends SugarController {function preProcess() {parent::preProcess();if(!ACLController::checkAccess('AnalyticReporting', 'view', true)){ACLController::displayNoAccess(true);sugar_cleanup(true);} $ZZZZp15 = new ZZZZZZR1717();$ZZZZp15->load();} function ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZg6() {foreach($_POST as $Zr17 => &$value) {$value = $this->ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZh7($value);} foreach($_REQUEST as $Zr17 => &$value) {$value = $this->ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZh7($value);} foreach($_GET as $Zr17 => &$value) {$value = $this->ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZh7($value);}} function ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZh7($value) {if(isset($value)) {if(is_array($value)) {} else {$value = stripslashes(html_entity_decode($value));}} return $value;} function action_listview() {$this->view = 'list';$this->ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZg6();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARReportTreeController();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->listReports();$this->view_object_map = array_merge($this->view_object_map, $ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->getViewMapping());} function action_loadReport() {$this->ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZg6();$ZZZZZZy24 = (int)$_REQUEST["record"];$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARReportController();$report = $ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->loadReport($ZZZZZZy24);$this->view_object_map = array_merge($this->view_object_map, $ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->getViewMapping());echo json_encode($report);exit();} function action_report() {$this->view = 'report';$this->ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZg6();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARReportController();try {$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->report();} catch (Exception $ZZZZZZZZZZZZZZZZZZZZZZk10) {echo $ZZZZZZZZZZZZZZZZZZZZZZk10->getMessage();die;} $this->view_object_map = array_merge($this->view_object_map, $ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->getViewMapping());} function action_debug() {$this->view = 'report';$this->ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZg6();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARReportController();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZj9();$this->view_object_map = array_merge($this->view_object_map, $ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->getViewMapping());} function action_massSchedule() {$this->ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZg6();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARReportTreeController();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->massSchedule();} function action_exportReports() {$this->ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZg6();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARReportTreeController();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->exportReports();} function action_importReports() {$this->ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZg6();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARReportTreeController();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->importReports();} function action_loadPicklists() {$this->ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZg6();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARReportController();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->loadPickLists();} function action_saveCategory() {$this->ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZg6();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARReportTreeController();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->saveCategory();} function action_settings() {$this->view = 'settings';$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARSettingsController();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->settings();$this->view_object_map = array_merge($this->view_object_map, $ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->getViewMapping());} function action_logs() {$this->view = 'logs';$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARSettingsController();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZk10();$this->view_object_map = array_merge($this->view_object_map, $ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->getViewMapping());} function action_Toggle() {$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARReportTreeController();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->toggle();} function action_Delete() {$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARReportTreeController();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->deleteReport();} function action_saveReport() {$this->ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZg6();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARReportController();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->saveReport();} function action_makePDF() {$this->ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZg6();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARReportController();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->makePDF();} function action_makePDFXLS() {$this->ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZg6();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARReportController();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZl11((int)$_REQUEST["record"]);} function action_makeXLS() {$this->ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZg6();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARReportController();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->makeXLS();} function action_getXLSWorksheets() {$this->ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZg6();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARReportController();$ZZZZZZZZZZf5 = $ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->getXLSWorksheets((int)$_REQUEST["templateId"]);echo json_encode($ZZZZZZZZZZf5);die;} function action_widget() {$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZm12 = new Sugar_Smarty();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARReportController();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->widget();foreach($ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->getViewMapping() as $Zr17 => $value) {$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZm12->assign($Zr17, $value);} $ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZm12->display('modules/AnalyticReporting/Dashlets/WidgetDashlet/WidgetDashlet.tpl');exit;} function action_addToDashboard() {$this->ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZg6();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARReportController();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->addToDashboard();} function action_getAllowedAddToDashboardRoles(){global $current_user;if(isset($_REQUEST["reportID"]) && (int)$_REQUEST["reportID"]>0){$db = PlatformConnector::ZZZZZZZZZZZZZZK1010();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZn13 = (int)$_REQUEST["reportID"];$ZZZZZZZZZZZZZZY2424 = new ZZZZZZZD33();$ZZZZZZZZZZZZZZY2424->ZZZZZZZZQ1616('owner','id='.$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZn13, 1);$report = $ZZZZZZZZZZZZZZY2424->ZZZZZZZZQ1616('owner','id='.$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZn13, 1);if(!empty($report))$report = $report[0];$ZZZZZZZZZZR1717 = array();if(is_admin($current_user) || $current_user->id == $report['owner']){$ZZZZZZZZZZR1717 = PlatformConnector::ZZZZZZZZZZZZl11();} echo json_encode($ZZZZZZZZZZR1717);} die();} function action_reportBuilder(){$this->view = 'reportbuilder';$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARReportBuilderController();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->reportBuilder();$this->view_object_map = array_merge($this->view_object_map, $ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->getViewMapping());} function action_downloadFontCheck() {$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARSettingsController();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZo14();} function action_downloadFont() {$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARSettingsController();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZp15();} function ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZq16() {} function action_jobs(){$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARJobsController();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZr17();} function action_send(){FunctionWrapper::_ini_set('display_errors', 1);error_reporting(E_ALL & ~E_STRICT & ~E_NOTICE);$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARJobsController();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->sendScheduledReports();} function action_run_scheduler() {echo "Scheduler started execution.";$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARJobsController();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->sendScheduledReports();echo "Scheduler finished execution.";exit();} function action_force_send_report() {echo "Starting.";$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARJobsController();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZs18($_POST);echo "Finished.";exit();} function action_calculatedFieldSQL(){$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARReportController();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZt19();} function ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZu20(){FunctionWrapper::_ini_set('display_errors', 1);error_reporting(E_ALL & ~E_STRICT & ~E_NOTICE);if(FunctionWrapper::_file_exists("modules/AnalyticReporting/controllers/ARTestController.php")){$this->view = 'test';include_once "modules/AnalyticReporting/controllers/ARTestController.php";$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZv21();$this->view_object_map = array_merge($this->view_object_map, $ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->getViewMapping());}} function action_dashboard() {$this->view = 'dashboard';$this->ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZg6();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARDashboardController();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZw22 = $ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZx23($_REQUEST['record']);$this->view_object_map['__APP_INITIAL_STATE'] = json_encode($ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZw22);$this->view_object_map = array_merge($this->view_object_map, $ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->getViewMapping());} function action_createDashboard() {$ZZZZZZx23 = $_REQUEST['dashboardId'];$ZZZZZZ2525 = $_REQUEST['categoryId'];$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARDashboardController();$P1515 = $ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->ZZZZZZZZZk10($ZZZZZZx23, $ZZZZZZ2525);echo json_encode(array("status" => $P1515));exit;} function action_saveDashboard() {$p15 = json_decode($GLOBALS['HTTP_RAW_POST_DATA'], true);$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARDashboardController();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->ZZZZZZZZZi8($p15["dashboard"]["id"], $p15);echo json_encode(array("status" => true));exit;} function action_saveDashboardWidgets() {$ZZZZZZx23 = $_REQUEST['dashboardId'];$p15 = json_decode($GLOBALS['HTTP_RAW_POST_DATA'], true);$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARDashboardController();$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->ZZZZZZZZZl11($ZZZZZZx23, $p15['widgets']);echo json_encode(array("status" => true));exit;} function action_getDashboardWidgets() {$ZZZZZZx23 = $_REQUEST['dashboardId'];$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARDashboardController();$ZZZZZZc2 = $ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->ZZZZZZZZZn13($ZZZZZZx23);echo json_encode(array("status" => true, "widgets" => $ZZZZZZc2));exit;} function action_getReportList() {global $current_user;$ZZZZZZZR1717 = new ZZZZZZZS1818();$ZZZZZZZZZZZA00 = new ZZZZZZZD33();$ZZZZZZZW2222 = $ZZZZZZZR1717->ZZZZZZZV2121($current_user);$ZZZZZZZX2323 = $ZZZZZZZR1717->ZZZZZZZZZZZZZZZo14($current_user);$ZZZZZZZZZZr17 = $ZZZZZZZR1717->getUserGroups($ZZZZZZZX2323);$ZZZZZZZp15 = $ZZZZZZZZZZZA00->listReports($ZZZZZZZW2222, $ZZZZZZZX2323, $ZZZZZZZZZZr17, "#", true, false, false);$ZZZZZZZZZZf5 = array();foreach($ZZZZZZZp15 as $ZZZZZZZr17) {$ZZZZZZZZZZf5[$ZZZZZZZr17["id"]] = $ZZZZZZZr17["title"];} echo json_encode($ZZZZZZZZZZf5);exit;} function action_getWidgetData() {$ZZZZZZy24 = $_REQUEST['reportId'];$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARReportController();$ZZZZZZZZU2020 = array();$filters = $GLOBALS['HTTP_RAW_POST_DATA'];if($filters) {$ZZZZZZZZU2020['addFilters'] = $filters;} $ZZZZZZZZZZf5 = $ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->getWidgetData($ZZZZZZy24, $ZZZZZZZZU2020);echo json_encode($ZZZZZZZZZZf5);exit;}}