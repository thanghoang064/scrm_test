<?php

/*** DOMAIN_CHECK ***/

if(!defined('sugarEntry') || !sugarEntry) die('Not A Valid Entry Point');include_once "modules/AnalyticReporting/controllers/ARReportController.php";class AnalyticReportingApi extends SugarApi
{function registerApiRest() {return array('GetWidgetEndpoint' => array('reqType' => 'GET', 'path' => array('<module>', 'GetWidget'), 'pathVars' => array('', '', 'data'), 'rawReply' => true, 'method' => 'GetWidget', 'shortHelp' => 'Get AnalyticReporting widget data', 'longHelp' => '',), 'GetReports' => array('reqType' => 'GET', 'path' => array('<module>', 'GetReports'), 'pathVars' => array('', '', 'data'), 'rawReply' => true, 'method' => 'GetReports', 'shortHelp' => 'Get report list', 'longHelp' => '',),);} function GetReports($ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZz25, $ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZA00) {global $current_user, $mod_strings, $app_strings, $sugar_flavor;$ZZZZZZZR1717 = new ZZZZZZZS1818();$ZZZZZZZZZZZA00 = new ZZZZZZZD33();$ZZZZZZZW2222 = $ZZZZZZZR1717->ZZZZZZZV2121($current_user);$ZZZZZZZX2323 = $ZZZZZZZR1717->ZZZZZZZZZZZZZZZo14($current_user);$ZZZZZZZZZZr17 = $ZZZZZZZR1717->getUserGroups($ZZZZZZZX2323);$ZZZZZZZp15 = $ZZZZZZZZZZZA00->listReports($ZZZZZZZW2222, $ZZZZZZZX2323, $ZZZZZZZZZZr17, "#", true, false, false);$ZZZZZZZZZZf5 = array();foreach($ZZZZZZZp15 as $ZZZZZZZr17) {$ZZZZZZZZZZf5[$ZZZZZZZr17["id"]] = $ZZZZZZZr17["title"];} return json_encode($ZZZZZZZZZZf5);} function GetWidget($ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZz25, $ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZA00) {$ZZZZZZZZZZf5 = array();try {$ZZZZZZZZZZf5 = $this->getWidgetData($ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZA00['reportId']);} catch (Exception $ZZZZZZZZZZZZZZZZZZZZZZk10) {throw new SugarApiException($ZZZZZZZZZZZZZZZZZZZZZZk10->getMessage(), null, null, 400, "NO_ACCESS_RIGHTS");} return json_encode($ZZZZZZZZZZf5);} function getWidgetData($ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZB11) {$ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8 = new ARReportController();return $ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZi8->getWidgetData($ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZB11);}}
